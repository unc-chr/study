这个代码和 thread_pool_c++11 没有本质的区别，拆分了一下。
需要注意 task 和 result 的相互依赖，所以需要前向声明。